<div class="table-container">
  <div class="main-top">
    <h1 class="title">Administrative Table</h1>
    <div class="end">
      <app-input
        title="Search"
        placeholder="Ex. Reggie "
        suffix-icon="faSearch"
        (keyup)="search($event)"
      ></app-input>
    </div>
  </div>

  <ngx-datatable
    class="material"
    [rows]="rows"
    [limit]="6"
    rowHeight="auto"
    [headerHeight]="40"
    [footerHeight]="50"
    [scrollbarH]="true"
  >
    <ngx-datatable-column name="Name" [width]="280">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <mat-checkbox
          #checkbox
          class="chekbox-margin"
          color="primary"
          [checked]="row.verified"
          (change)="checkUser($event, row._id)"
          [disabled]="isDisabled"
        ></mat-checkbox>

        {{ row.first_name }} {{ row.last_name }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Secret Code" [width]="250">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.secret_code }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Address" [width]="270"> </ngx-datatable-column>
    <ngx-datatable-column name="Status" [width]="120">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <ng-container *ngIf="row.verified == true">
          <span class="verified">
            <fa-icon [icon]="verifiedIcon"></fa-icon>
            Verified
          </span>
        </ng-container>
        <ng-container *ngIf="row.verified == false">
          <span class="unverified"> Not Verified </span>
        </ng-container>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Expenditure" [width]="150">
      <ng-template let-row="row" ngx-datatable-cell-template>
        â‚±
        {{
          row.direct_referral +
            row.pairing_bonus +
            row.indirect_referral +
            row.automatic_equivalent_rebates | number
        }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Cash out" [width]="150">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <button
          mat-stroked-button
          color="primary"
          (click)="cashout(row)"
          [disabled]="
            row.direct_referral +
              row.pairing_bonus +
              row.indirect_referral +
              row.automatic_equivalent_rebates ==
            0
          "
        >
          Cash out
        </button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>
