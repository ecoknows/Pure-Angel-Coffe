<mat-stepper [linear]="isLinear" #stepper>
  <mat-step
    [stepControl]="personalInfoGroup"
    label="Fill out your personal information"
  >
    <form [formGroup]="personalInfoGroup" class="form-personal-info">
      <mat-form-field>
        <mat-label>First Name</mat-label>
        <input
          matInput
          placeholder="First name"
          formControlName="first_name"
          required
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Last Name</mat-label>
        <input
          matInput
          placeholder="Last name"
          formControlName="last_name"
          required
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Birthdate</mat-label>
        <input
          required
          #inputBirthdate
          (focus)="birthdate.open()"
          matInput
          formControlName="birthdate"
          [matDatepicker]="birthdate"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="birthdate"
        ></mat-datepicker-toggle>
        <mat-datepicker
          #birthdate
          (closed)="inputBirthdate.blur()"
        ></mat-datepicker>
      </mat-form-field>

      <div>
        <mat-form-field class="address-form">
          <mat-label>Address</mat-label>
          <input required matInput formControlName="address" />
        </mat-form-field>

        <mat-form-field class="address-form">
          <mat-label>Secret Code</mat-label>
          <input required matInput formControlName="secret_code" />
        </mat-form-field>
      </div>

      <div class="button-container">
        <button mat-stroked-button matStepperNext color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step
    [stepControl]="authenticationGroup"
    label="Fill out your authentications"
  >
    <form [formGroup]="authenticationGroup" class="form-authentication">
      <mat-form-field>
        <mat-label>Username</mat-label>
        <input matInput formControlName="username" required />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Password</mat-label>
        <input matInput formControlName="password" type="password" required />
      </mat-form-field>
      <br />
      <mat-form-field>
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          formControlName="confirm_password"
          type="password"
          required
        />
      </mat-form-field>

      <div class="button-container">
        <button mat-stroked-button matStepperPrevious color="warn">Back</button>
        <button mat-stroked-button matStepperNext color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step>
    <div class="done-step">
      <ng-template matStepLabel>Create Account</ng-template>
      <h1>You are now on the final stage...</h1>
      <h2>Please double check before creating</h2>
      <ul>
        <li>
          Username :
          <span>{{ RegistrationInfo.username }}</span>
        </li>
        <li>
          Name :
          <span>
            {{ RegistrationInfo.first_name }}
            {{ RegistrationInfo.last_name }}
          </span>
        </li>
        <li>
          Address :
          <span>{{ RegistrationInfo.address }}</span>
        </li>
        <li>
          Birthdate :
          <span>{{ RegistrationInfo.birthdate | date: "MMMM d, y" }}</span>
        </li>
        <li>
          Secret Code :
          <span>{{ RegistrationInfo.secret_code }}</span>
        </li>
      </ul>
      <div class="button-container">
        <button mat-stroked-button matStepperPrevious color="warn">Back</button>
        <button mat-stroked-button color="accent" (click)="submit()">
          Create
        </button>
      </div>
    </div>
  </mat-step>
</mat-stepper>
